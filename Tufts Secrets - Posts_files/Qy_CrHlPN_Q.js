if (self.CavalryLogger) { CavalryLogger.start_js(["ZAP5N"]); }

__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEndTime=function(a){this.$1.end_time=a;return this};c.setOrderingMode=function(a){this.$1.ordering_mode=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setStartTime=function(a){this.$1.start_time=a;return this};c.setTimeSpentID=function(a){this.$1.time_spent_id=a;return this};c.setViewerHasInteracted=function(a){this.$1.viewer_has_interacted=a;return this};return a}();c={end_time:!0,ordering_mode:!0,post_fbid:!0,start_time:!0,time_spent_id:!0,viewer_has_interacted:!0};e.exports=a}),null);
__d("MUFICommentViewportTracking",["MarauderLogger","MLegacyDataStore","MUFIConfig","MViewportTracking"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataFromConfig=function(a){this.vpvLoggingEnabled=a.vpvLoggingEnabled};d.getStoryID=function(a){return b("MLegacyDataStore").get(a).token};d.getDataToLog=function(a){return this.getStoryID(a)};d.sendDataToLog=function(a){this.vpvLoggingEnabled&&b("MarauderLogger").log("comment_vpv",void 0,null,"comment",a)};d.getTimeout=function(){return b("MUFIConfig").vpvLoggingTimeout};return c}(b("MViewportTracking"));e.exports=a}),null);
__d("MUFIStaticCommentViewportTracking",["CommentsTimeSpentTypedLogger","MUFICommentViewportTracking","Stratcom","pageID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.trackStatically=function(a,d,e,f,i){var j=i+"_"+f,k=g[j];k||(k=new c(),g[j]=k,k.init({is_loose:!1,relaxed_min_size:!0,vpv_debug:!1,triggerOverride:[["scroll",null],["touchmove","ufi-overlay"]],vpvLoggingEnabled:d,timeTrackingEnabled:e,orderingMode:f,targetFBID:i}));h||(h=b("Stratcom").listen("m:page:unload",null,c.resetAll));k.addComments(a);k.fireEvent()};c.resetAll=function(){h&&h.remove(),h=null,g={}};function c(){var b;b=a.call(this)||this;b.resetTimeSpentInterval();b.comments=[];return b}var d=c.prototype;d.addComments=function(a){this.comments.push.apply(this.comments,a)};d.getDataFromConfig=function(b){a.prototype.getDataFromConfig.call(this,b),this.orderingMode=b.orderingMode,this.targetFBID=b.targetFBID};d.getAllStories=function(){return this.comments};d.recordVPVDurations=function(a,c){this.recordVPVDurationsInternal(a,c),(c||!a.length)&&(this.timeSpentIntervalStart<this.timeSpentIntervalEnd&&new(b("CommentsTimeSpentTypedLogger"))().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(b("pageID")).log(),this.resetTimeSpentInterval())};d.sendTimetrackingDataToLog=function(a){var b=Math.round(a.vpvd_start_timestamp);b<this.timeSpentIntervalStart&&(this.timeSpentIntervalStart=b);b=b+Math.round(a.vpvd_time_delta/1e3);b>this.timeSpentIntervalEnd&&(this.timeSpentIntervalEnd=b)};d.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE,this.timeSpentIntervalEnd=0};return c}(b("MUFICommentViewportTracking"));e.exports=a}),null);