if (self.CavalryLogger) { CavalryLogger.start_js(["xKUUL"]); }

__d("MTabbable",["MAria","MJSEnvironment","MViewport","isNodeWithinRect"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){while(a&&a!==c){if(b("MAria").isHidden(a))return!0;a=a.parentNode}return!1}function h(a,b){if(a.offsetHeight===0||a.offsetWidth===0||window.getComputedStyle(a).visibility==="hidden"||parseInt(a.tabIndex,10)<0||g(a,b))return!1;if(a.tabIndex>=0)return!0;switch(a.tagName){case"A":return a.href&&a.rel!="ignore";case"INPUT":return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":return!a.disabled}return!1}function a(a){__p&&__p();if(!a.getBoundingClientRect)return;var c=b("MJSEnvironment").IS_APPLE_WEBKIT_IOS&&parseFloat(b("MJSEnvironment").OS_VERSION)>=8||b("MJSEnvironment").BROWSER_NAME==="Safari"&&!b("MJSEnvironment").IS_APPLE_WEBKIT_IOS;c=c?a.querySelectorAll("a, button, select, [tabindex]"):a.querySelectorAll("a, button, input, select, textarea, [tabindex]");var d=b("MViewport").getBoundingRect();for(var e=0,f;f=c[e];e++)if(h(f,a)&&b("isNodeWithinRect")(f,d)){f.focus();return}}f.focusTabbable=a}),null);
__d("MHeaderGating",["CurrentUser","qex"],(function(a,b,c,d,e,f){"use strict";a={isStickyHeaderEnabled:function(){return b("CurrentUser").isWorkUser()?!!b("qex")._("829069"):!!b("qex")._("817052")}};e.exports=a}),null);
__d("Popover",["cx","CSS","DOM","MAria","MHeaderGating","MViewport","Stratcom","Vector","$","eventsMixinDeprecated","nullthrows","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h=40;a=function(){"use strict";__p&&__p();function a(c){__p&&__p();var d=c.flyout;d=typeof d==="string"?b("$")(d):d;this.flyout=d;this.content=b("DOM").scry(this.flyout,"div","flyout-content")[0];this.content&&b("CSS").addClass(this.content,"_7i2z");this.options=c;this._onOrientationChange=this._reposition.bind(this);b("CSS").conditionClass(this.flyout,"popover_flyout",!0);d=c.button;d&&(d=typeof d==="string"?b("$")(d):d,this.buttonClickListener=b("DOM").listen(d,"click",null,this._openHandler.bind(this)),d.setAttribute("role","button"),b("MAria").setupPopup(d,this.flyout),this.button=d);d=c.flyoutAnchor;d?this.flyoutAnchor=typeof d==="string"?b("$")(d):d:this.flyoutAnchor=this.button;this.options.flyoutFromRoot&&(this.flyoutClickListener=b("DOM").listen(this.flyout,"click",null,this._openHandler.bind(this)));this.options.touchstart_callback&&(this.flyoutTouchStartListener=b("DOM").listen(this.flyout,"touchstart",null,this._touchStartHandler.bind(this)));this.options.touchmove_callback&&(this.flyoutTouchMoveListener=b("DOM").listen(this.flyout,"touchmove",null,this._touchMoveHandler.bind(this)));this.options.touchend_callback&&(this.flyoutTouchEndListener=b("DOM").listen(this.flyout,"touchend",null,this._touchEndHandler.bind(this)));a._instances[this.flyout.id]=this}var c=a.prototype;c.isOpen=function(){return!!this._isOpen};c.open=function(){__p&&__p();if(this.isOpen())return;a._activePopover&&a._activePopover.close();a._activePopover=this;this._isOpen=!0;this.constraint=null;b("CSS").conditionClass(this.flyout,"popover_hidden",!1);this.options.flyoutFromRoot&&this._absolutePositionFlyout();this._position();this.options.heightConstraint||(b("CSS").conditionClass(b("nullthrows")(document.body),"disableClicks",!0),this.globalListener=b("Stratcom").listenCapture("click",null,this._closeHandler.bind(this)));window.addEventListener("orientationchange",this._onOrientationChange,!1);this.button=b("nullthrows")(this.button);b("MAria").showPopup(this.button,this.flyout);if(this.options.ensureVisible){var c=b("MViewport").getScrollTop(),d=this._getElementPosition(this.flyout).y,e=d+this.flyout.offsetHeight;e=e-(c+b("MViewport").getUseableHeight());if(e>0){e=Math.min(e,Math.max(d-c-h,0));b("MViewport").scrollTo(0,c+e)}}this.invoke("open")};c.close=function(c){__p&&__p();if(!this.isOpen())return;a._activePopover=null;this._isOpen=!1;b("CSS").conditionClass(this.flyout,"popover_hidden",!0);this.options.flyoutFromRoot&&this.flyoutParent&&(this.flyoutParent.appendChild(this.flyout),delete this.flyoutParent);b("setTimeoutAcrossTransitions")(function(){b("CSS").conditionClass(b("nullthrows")(document.body),"disableClicks",!1)}.bind(this),400);this.globalListener&&this.globalListener.remove();window.removeEventListener("orientationchange",this._onOrientationChange,!1);this._releaseConstraint();this.button=b("nullthrows")(this.button);b("MAria").hidePopup(this.button,this.flyout);c||this.invoke("close")};c.clear=function(){this.globalListener&&this.globalListener.remove(),this.buttonClickListener&&this.buttonClickListener.remove(),this.flyoutClickListener&&this.flyoutClickListener.remove(),this.flyoutTouchStartListener&&this.flyoutTouchStartListener.remove(),this.flyoutTouchMoveListener&&this.flyoutTouchMoveListener.remove(),this.flyoutTouchEndListener&&this.flyoutTouchEndListener.remove(),delete a._instances[this.flyout.id]};c.refreshConstraints=function(){__p&&__p();if(!this._isOpen)return!1;var c=this.flyout;this._releaseConstraint();if(this.options.heightConstraint){var d=b("MHeaderGating").isStickyHeaderEnabled();c.style.minHeight=b("MViewport").getUseableHeight(d)+"px";this.constraint=b("MViewport").addHeightConstraint(b("Vector").getDim(this.content).y+this._getElementPosition(c).y)}else this.constraint=b("MViewport").addMinHeightConstraint(b("Vector").getDim(c).y+this._getElementPosition(c).y+a._MARGIN)};c._getTouchPoint=function(a){var b;a=a.getRawEvent();a instanceof TouchEvent&&(b=a.targetTouches[0]);a={x:b?b.screenX:0,y:b?b.screenY:0};return a};c._touchStartHandler=function(a){var b=this.options.touchstart_callback;b&&b(this._getTouchPoint(a))};c._touchMoveHandler=function(a){if(this.isOpen()){var b=this.options.touchmove_callback;b&&b(this._getTouchPoint(a))}};c._touchEndHandler=function(a){var b=this.options.touchend_callback;b&&b(this._getTouchPoint(a))};c._openHandler=function(a){__p&&__p();a.prevent();a=this.isOpen();if(a&&!this.options.preventClose)this.close();else if(!a){a=b("DOM").scry(document,"input");for(var c=0;c<a.length;c++)a[c].blur();this.open()}};c._closeHandler=function(a){a.getNode("popover")||this.close()};c._getElementPosition=function(a){__p&&__p();a=a;var c=a.offsetLeft,d=a.offsetTop;a=a.offsetParent;while(a&&a!==document.documentElement){c+=a.offsetLeft;d+=a.offsetTop;var e=window.getComputedStyle(a);c+=parseInt(e.getPropertyValue("border-left-width").slice(0,-2),10);d+=parseInt(e.getPropertyValue("border-top-width").slice(0,-2),10);a=a.offsetParent}return new(b("Vector"))(c,d)};c._absolutePositionFlyout=function(){this.flyoutParent=this.flyout.parentNode;b("$")("root").appendChild(this.flyout);var a=this._getElementPosition(this.flyout.parentNode),c=this._getElementPosition(this.flyoutAnchor),d=b("Vector").getDim(this.flyoutAnchor);c=c.y-a.y+d.y;this.flyout.style.position="absolute";this.flyout.style.top=c+"px"};c._position=function(){var a=this.flyout;if(this.flyoutAnchor&&this.options.positionNub){var c=this._getElementPosition(this.flyoutAnchor),d=b("DOM").find(this.flyout,"*","nub"),e=b("Vector").getDim(d).x,f=b("Vector").getDim(this.flyoutAnchor).x;a=this._getElementPosition(a);new(b("Vector"))(c.x-a.x+(f-e)/2,0).setPos(d)}this.refreshConstraints()};c._reposition=function(){b("setTimeoutAcrossTransitions")(this._position.bind(this),0)};c._releaseConstraint=function(){this.constraint&&(this.constraint.release(),this.constraint=null)};a.getInstance=function(b){return a._instances[b]};a.clearAll=function(){for(var b=0;b<a._instances.length;b++)a._instances[b].clear()};return a}();a._activePopover=null;a._MARGIN=40;a._instances={};b("eventsMixinDeprecated")(a,["open","close"]);e.exports=a}),null);
__d("MJewelFlyout",["CSS","DOM","EventEmitter","MHistory","MJSEnvironment","MLogState","MTabbable","MViewport","Popover","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="acw",h="aclb",i=3e3;a=function(){__p&&__p();function a(a,c,d){this.$1=c,this.$2=a,this.$3=d,this.$7=new(b("EventEmitter"))()}var c=a.prototype;c.isOpen=function(){return!!this.$9&&this.$9.isOpen()};c.open=function(){this.$9&&this.$9.open()};c.close=function(){this.$9&&this.$9.close()};c.$10=function(){var a=new(b("Popover"))({button:b("DOM").find(this.$2,"*","icon"),flyout:this.$1,ensureVisible:!1,heightConstraint:!0,preventClose:!0});this.$9=a;this.$4=a.listen("open",this.$11.bind(this));this.$5=a.listen("close",this.$12.bind(this));this.$6=b("DOM").listen(this.$1,"click",null,this.$13.bind(this));b("MJSEnvironment").IS_ANDROID&&b("MJSEnvironment").GET_OS_VERSION>=4&&(this.$8=b("DOM").scry(this.$1,"div","scroll-area")[0])};c.clear=function(){this.$4&&this.$4.remove(),this.$5&&this.$5.remove(),this.$6&&this.$6.remove(),this.$9&&this.$9.clear()};c.reregisterListeners=function(){var a=this.isOpen();this.clear();this.$10();a&&this.open()};c.addOpenListener=function(a){return this.$7.addListener("open",a)};c.$11=function(){if(this.$8){b("MViewport").scrollToHeader();var a=document.documentElement;a&&(b("CSS").conditionClass(a,"hide-scroll",!0),this.$8.style.maxHeight=a.offsetHeight-200+"px")}b("MHistory").pushSoftState(this.$3.softState);this.$7.emit("open");b("Stratcom").invoke("m:jewel:flyout:open",this.$3.sigil,{jewel:this.$3.sigil});b("MTabbable").focusTabbable(this.$1)};c.$12=function(){if(this.$8){this.$8.style.minHeight="";var a=document.documentElement;a&&b("CSS").conditionClass(a,"hide-scroll",!1)}b("Stratcom").invoke("m:jewel:flyout:close",this.$3.sigil,{jewel:this.$3.sigil});b("MHistory").popSoftState(this.$3.softState)};c.$13=function(a){b("MLogState").updateLink(a,this.$3.pos)};c.setHeaderText=function(a,c){if(!a||!c)return;a=b("DOM").scry(this.$1,"*",a)[0];if(!a)return;var d=a.cloneNode(!0);d.innerText=c;b("DOM").replace(a,d)};a.removeMenuContent=function(a){a=document.getElementById(a);a&&b("DOM").remove(a)};a.updateMenuColor=function(c,d,e){e?b("setTimeoutAcrossTransitions")(a.$14.bind(this,c,d),i):a.$14(c,d)};a.$14=function(a,c){a=document.getElementById(a);a&&(b("CSS").conditionClass(a,h,!c),b("CSS").conditionClass(a,g,c))};a.create=function(b,c,d){b=new a(b,c,d);b.$10();return b};return a}();e.exports=a}),null);
__d("MJewel",["CSS","DOM","MJewelFlyout","Stratcom","URI","$","eventsMixinDeprecated","intlNumUtils"],(function(a,b,c,d,e,f){__p&&__p();var g,h=0;a=function(){"use strict";__p&&__p();a.create=function(b,c){b=new a(b,c);b._init();return b};function a(c,d){this._count=0,this._sigil=c,this.options=d||{},this._jewelNode=b("$")(a.JEWEL_NAV_NODE_ID),this._softState=d.softState||"jewel="+h++,this._contentsSigil=d.contentsSigil||"contents",this._additionalPaths=d.additionalPaths||[],this._noPopover=!!d.noPopover,this._preventClearBadge=!!d.preventClearBadge,this._count=d.count||0}var c=a.prototype;c._init=function(){if(!this._noPopover){var a=b("MJewelFlyout").create(this._getJewelElement(),this._getFlyoutElement(),{sigil:this._sigil,softState:this._softState,pos:this.options.pos});a.addOpenListener(this.handleViewedContent.bind(this));this._flyout=a}b("Stratcom").listen("m:history:change",null,this._updateJewelsOnHistoryChange.bind(this))};c._updateJewelsOnHistoryChange=function(a){a.getData().soft===this._softState?this._flyout&&this._flyout.open():this._flyout&&this._flyout.close(),this._updateIsJewelActive(a)};c.isInitialized=function(){return!!b("DOM").scry(this._jewelNode,"*",this._contentsSigil)[0]};c._getJewelElement=function(){return b("DOM").find(this._jewelNode,"div",this._sigil)};c._getCountElement=function(){return b("DOM").find(this._getJewelElement(),"span","count")};c._getContentsElement=function(){return b("DOM").find(this._getJewelElement(),"*",this._contentsSigil)};c._getFlyoutElement=function(){return b("DOM").find(this._getJewelElement(),"*","flyout")};c.getCount=function(){return this._count};c.getFlyout=function(){return this._flyout};c._updateCountElement=function(){var a=this._getJewelCount();b("DOM").setContent(this._getCountElement(),b("intlNumUtils").formatNumberWithThousandDelimiters(a));a=this._getJewelElement();var c=this._count>0;b("CSS").conditionClass(a,"noCount",!c);b("CSS").conditionClass(a,"hasCount",c)};c._updateIsJewelActive=function(a){var c=new(g||(g=b("URI")))(a.getData().path);c=c.getPath();a=a.getData().soft;c=!a&&this._additionalPaths.includes(c);a=a===this._softState;b("CSS").conditionClass(this._getJewelElement(),"popoverOpen",a||c)};c.setCount=function(a){if(a<0)return;this._count=a;this._updateCountElement()};c.updateCount=function(a,b){!this.isOpen()?this.setCount(a):a&&b()};c.handleViewedContent=function(){this.getCount()>0&&this.isInitialized()?(this._preventClearBadge||this.setCount(0),this.invoke("cleared")):this.invoke("jewel_click")};c._getJewelCount=function(){if(this._count>0)return this._count;else return 0};c.isOpen=function(){return!!this._flyout&&this._flyout.isOpen()};c.reregisterListeners=function(){var a=this._flyout;a&&a.reregisterListeners()};return a}();a.JEWEL_NAV_NODE_ID="mJewelNav";b("eventsMixinDeprecated")(a,["cleared","jewel_click"]);e.exports=a}),null);
__d("MJewelLinkFetcher",["DOM","MLinkHack","$"],(function(a,b,c,d,e,f){"use strict";var g="mJewelNav";function a(a){a=b("DOM").find(b("$")(g),"div",a);if(!a)return null;a=b("DOM").find(a,"a","icon");return!a?null:b("MLinkHack").getHref(a)}e.exports={get:a}}),null);
__d("MJewels",[],(function(a,b,c,d,e,f){e.exports={REQUESTS:"requests",MESSAGES:"messages",NOTIFICATIONS:"notifications",SEARCH:"search",MORE:"more",NEWS_FEED:"news-feed",BOOKMARKS:"bookmarks",VIDEOS:"videos",CASUAL_GROUPS:"casual_groups",MARKETPLACE:"marketplace"}}),null);
__d("MJewelsLoggerSham",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){}function b(a){}function c(a){}e.exports={markJewelClick:a,markJewelDisplayed:c,markJewelCanceled:b}}),null);
__d("MJewelsLogger",["MJewelsLoggerSham"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("MJewelsLoggerSham").markJewelClick(a,c)}function c(a){b("MJewelsLoggerSham").markJewelCanceled(a)}function d(a){b("MJewelsLoggerSham").markJewelDisplayed(a)}e.exports={markJewelClick:a,markJewelDisplayed:d,markJewelCanceled:c}}),null);
__d("MLoadingSpinner.react",["MLoadingIndicator.react","React"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement(b("MLoadingIndicator.react"),{background:"light",size:"large"}))};return c}(b("React").Component);e.exports=a}),null);
__d("MSideNavMarauderLogger",["MarauderLogger","MLegacyDataStore","MTouchClick","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="";function a(a){b("MarauderLogger").toggleModule("sidebar_menu",!0)}function c(a){b("MarauderLogger").toggleModule("sidebar_menu",!1)}function d(a){var c=a.getNode("tag:a");a=a.getNode("tag:div");b("MarauderLogger").log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:a?a.innerText:"unknown",url:c&&c.href});b("MarauderLogger").setNavigationModule("sidebar_menu")}function f(){j("session_start")}function h(a){__p&&__p();a=a.getData();if(a.node.rel<=0)return;var c=0,d="",e=b("MLegacyDataStore").get(a.node);e&&(c=e.bootstrap?1:0,d=e.type);e=0;var f=null;for(var g=0;g<a.results.length;g++){var h=a.results[g];if(h.rel>0){if(h.rel==a.node.rel){f=e;break}e++}}j("click",{query:a.query,is_bootstrapped:c,display_position:f},d,a.node.rel)}function i(a){g!==a&&j("search_keystroke",{prev_query:g,new_query:a}),g=a}function j(a,c,d,e){b("MarauderLogger").log(a,"search_typeahead",c,d,e)}function k(a){return a.listen("change",i)}b("Stratcom").listen("m:side-area:show",null,a);b("Stratcom").listen("m:side-area:hide",null,c);b("Stratcom").listen("click","side-menu-item",d);a=b("MTouchClick").hasTouchEvents()?"touchend":"click";b("Stratcom").listen(a,"graph-search-activator",f);b("Stratcom").listen("m:search:typeahead:focused",null,f);b("Stratcom").listen("m:search:typeahead:activated",null,f);b("Stratcom").listen("m:search-typeahead:select",null,h);e.exports={setupTypeaheadListener:k}}),null);
__d("MMessagesThreadRowID",[],(function(a,b,c,d,e,f){"use strict";var g="other_user_fbid_",h="thread_fbid_";function a(a,b,c){return a+(b?g+b:h+String(c))}e.exports={getThreadRowID:a}}),null);
__d("MSearchMessages",["DOM","Stratcom"],(function(a,b,c,d,e,f){function a(a){var c=b("DOM").listen(a,"submit",null,function(b){b.kill(),a.getElementsByTagName("button")[0].focus()});b("Stratcom").listen("m:page:unload",null,function(){c.remove(),b("Stratcom").removeCurrentListener()})}e.exports={init:a}}),null);
__d("MBackToTop",["JavelinHistory","MHome","MPageController","MPageControllerPath","MStopNGo","MViewport","Stratcom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MViewport").getScreenHeight(),h={init:function(a){__p&&__p();if(!h._isBrowserSupported())return;if(h._initialized)return;h._initialized=!0;h._reload=a.reload;b("MStopNGo").listen("go",h._pushScrollingStateIfNeeded);b("MStopNGo").listen("stop",function(){return setTimeout(h._pushScrollingStateIfNeeded,1e3)});b("Stratcom").listen("popstate",null,h._onpopstate)},_onpopstate:function(a){h._lastpop=Date.now();if(!h._isPathSupported())return;if(h._isScrollingState())return;b("MPageControllerPath").isRequestPath(location.href)&&b("MViewport").getScrollTop()>g&&(window.setTimeout(function(){b("MViewport").scrollToTop(),h._reload==="full"&&b("MPageController").reload()},1),a.stop())},_pushScrollingStateIfNeeded:function(){if(!h._isPathSupported())return;if(h._isScrollingState())return;b("MViewport").getScrollTop()>g&&Date.now()-h._lastpop>1e3&&window.history.pushState({scrolling:1},null)},_initialized:!1,_lastpop:0,_reload:null,_isScrollingState:function(){var a=window.history.state;return a&&a.scrolling},_isBrowserSupported:function(){return b("JavelinHistory").CAN_USE_PUSH_STATE},_isPathSupported:function(){return b("MHome").isHome(location.href)}};e.exports=h}),null);
__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="notification",h="list_",i="acw",j="aclb",k={},l=!1;e.exports={init:function(){if(l)return;b("Stratcom").listen("click",g,m);b("Stratcom").listen("m:page:render:cache:complete",null,n);l=!0}};function m(a){var c=a.getNode("touchable");if(!c)return;var d=b("MLegacyDataStore").get(c).notif_id;if(!d)return;new(b("MRequest"))("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:d,target_id:b("MLegacyDataStore").get(c).target_id}).send();o(a)}function n(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in k)p(b)}function o(a){__p&&__p();a=a.getNode("marea");if(!a)return;a=a.getAttribute("id");if(!a)return;p(a);var b=a.startsWith(h)?a.substring(h.length):h+a;p(b);k[a]=!0;k[b]=!0}function p(a){a=document.getElementById(a);a&&(b("CSS").addClass(a,i),b("CSS").removeClass(a,j))}}),null);
__d("MNotificationReadAll",["CSS","DataStore","DOM","Stratcom","XAsyncRequest","ge"],(function(a,b,c,d,e,f){__p&&__p();var g="read_all",h="acw",i="aclb",j={},k=!1;e.exports={init:function(){if(k)return;b("Stratcom").listen("click",g,l);b("Stratcom").listen("m:page:render:cache:complete",null,m);k=!0}};function l(){var a=b("ge")("notifications_list");if(!a)return;n(a)}function m(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in j){a=document.getElementById(b);a&&o(a)}}function n(a){__p&&__p();a=b("DOM").scry(a,"div","notification marea");if(!a)return;function c(c,a){c=b("DataStore").get(c,"notif_id");typeof c==="number"&&(j[c.toString()]=!0);o(a)}for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(b("CSS").hasClass(f,i)){var g=b("DOM").find(f,"a");c(g,f)}}new(b("XAsyncRequest"))().setURI("/a/jewel_notifications_read.php").setMethod("POST").setData({ids:Object.keys(j),seen:!1}).send()}function o(a){b("CSS").addClass(a,h),b("CSS").removeClass(a,i)}}),null);
__d("XBrowserPushRegistrationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/permissions/",{})}),null);
__d("MNotificationsUpdatePermissionStatus",["MRequest","XBrowserPushRegistrationController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={updateIfNeeded:function(a){if(a.host!==window.location.hostname)return;window.Notification&&window.Notification.permission!==a.state&&this._updateRegistration(window.location.hostname,window.Notification.permission)},_updateRegistration:function(a,c){var d=b("XBrowserPushRegistrationController").getURIBuilder().getURI();d=new(b("MRequest"))(d);d.setData({host:a,state:c});d.setMethod("POST");d.send()}};e.exports=a}),null);
__d("MQuickSearch",["DOM","HTML","MRequest","MRequestTypes","MViewport","Stratcom","Vector","$","destroyOnUnload","eventsMixinDeprecated","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=[];a=function(){"use strict";__p&&__p();function a(a,c){__p&&__p();this._uri=a.uri;this._args=a.args||{};var d=b("$")(a.nodeID);this._input=b("DOM").find(d,"input","quicksearch-input");this._button=b("DOM").scry(d,"*","quicksearch-button")[0];this._container=b("$")(a.containerID);this._resultsBoxID=a.resultsBoxID;this._resultsBox=b("$")(this._resultsBoxID);this._shouldScroll=a.shouldScroll;a.throbber&&(this._throbber=new(b("HTML"))(a.throbber));this._request=null;this._searchLogger=c||null;this._listeners=[b("DOM").listen(this._input,"focus",null,this._focus.bind(this)),b("DOM").listen(this._input,"blur",null,this._cleanup.bind(this)),b("DOM").listen(this._input,"keydown",null,this._handleKeyDown.bind(this)),b("DOM").listen(this._input,"keyup",null,this._handleKeyUp.bind(this))];this._button&&this._listeners.push(b("DOM").listen(this._button,"click",null,this._click.bind(this)));this._args.bootstrap&&this.search(this._input.value);g.push(this);b("destroyOnUnload")(function(){b("Stratcom").removeCurrentListener(),g.forEach(function(a){return a._destroy()}),g=[]})}var c=a.prototype;c._handleKeyDown=function(a){this._scrollToContainer(),this._previousText=this._input.value};c._handleKeyUp=function(a){if(a.getSpecialKey()==="delete"&&(this._args.bootstrap||this._args.showInitialResultsOnClear)){a=this._input.value;a.trim()===""&&a!==this._previousText&&this.reset()}};c._scrollToContainer=function(){if(this._shouldScroll){var a=b("Vector").getPos(this._container);b("MViewport").scrollTo(a.x,a.y)}};c._update=function(){__p&&__p();var a=this._input.value;if(this._previousText==a)return;this._previousText=a;if(/^\s*$/.test(a)&&!this._args.bootstrap){this._resetContent();this._abortRequest();return}this._saveInitialNodes();this.search(a)};c.search=function(a){__p&&__p();if(this.invoke("search",a).getPrevented())return;this._throbber&&b("DOM").setContent(this._resultsBox,this._throbber);this.addQueryParameters({q:a||""});this._abortRequest();this._searchLogger&&this._searchLogger.onSearch(this._args);this._request=new(b("MRequest"))(this._uri);this._request.setType(b("MRequestTypes").DEPENDENT);this._request.listen("done",function(a){this._resultsBox=b("$")(this._resultsBoxID),this._searchLogger&&this._searchLogger.onResults(this._request,this._resultsBox),this._needsDefaultNodes&&(this._saveInitialNodes(),this._needsDefaultNodes=!1),this._request=null}.bind(this));this._request.setMethod("GET");this._request.setData(this._args).send()};c._abortRequest=function(){this._request&&this._request.abort()&&(this._request=null)};c._resetContent=function(){this._resultsBox=b("$")(this._resultsBoxID),b("DOM").setContent(this._resultsBox,this._initialNodes)};c.resetToThrobber=function(){this._resultsBox=b("$")(this._resultsBoxID),this._throbber&&this._resultsBox&&b("DOM").setContent(this._resultsBox,this._throbber)};c.addQueryParameters=function(a){Object.assign(this._args,a)};c.maybeAddQueryParameters=function(a){for(var b in a)b in this._args||(this._args[b]=a[b])};c.clear=function(){this._input.value="",this._initialNodes=null};c._focus=function(a){this._focused=!0,this._button&&(this._button.setAttribute("type","button"),this._button.disabled=!1),this._scrollToContainer(),this._previousText=this._input.value,clearInterval(this._interval),this._interval=b("setIntervalAcrossTransitions")(this._update.bind(this),300)};c._click=function(a){a.prevent(),this.reset()};c._cleanup=function(){this._searchLogger&&this._searchLogger.onCleanup(),this._focused=!1,!this._input.value&&this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),clearInterval(this._interval)};c.reset=function(){this._abortRequest(),this._cleanup(),this._saveInitialNodes(),this._resetContent(),this._input.value="",this._input.blur(),this._button&&(this._button.setAttribute("type","submit"),this._button.disabled=!0),this._args.showInitialResultsOnClear&&this.search(""),this._scrollToContainer()};c._saveInitialNodes=function(){this._initialNodes||(this._initialNodes=Array.from(this._resultsBox.childNodes))};c._destroy=function(){this._listeners.forEach(function(a){return a&&a.remove()}),this._listeners.length=0};c.setNeedsDefaultNodes=function(){this._needsDefaultNodes=!0};a.getInstances=function(){return g};return a}();b("eventsMixinDeprecated")(a,["search"]);Object.assign(a.prototype,{_uri:null,_args:null,_input:null,_button:null,_container:null,_resultsBox:null,_shouldScroll:!0,_throbber:null,_focused:!1,_initialNodes:null,_previousText:null,_interval:null,_needsDefaultNodes:!1,_searchLogger:null});e.exports=a}),null);
__d("MQuickSearchOG",["MQuickSearch","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();var c=new(b("MQuickSearch"))(a);b("Stratcom").listen("m:quicksearch:actionSelected",null,function(a){var b={};b.atID=a.getData().at_id;b.placeID=a.getData().place_id;b.sid=a.getData().sid;c.setNeedsDefaultNodes();c.addQueryParameters(b);c.search()}.bind(this));b("Stratcom").listen("m:quicksearch:clear",null,function(){c.clear(),c.resetToThrobber()}.bind(this))};e.exports=a}),null);
__d("MSearchConst",[],(function(a,b,c,d,e,f){"use strict";e.exports={refid:46,news_search:"news",video_search:"video",content_search:"content",msite_news_null_state:"mnns",msite_news_non_gs_null_state:"mnngns",event_click:"click",event_impression:"imp"}}),null);
__d("XMobileSearchTrendingLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/graphsearch/trending/logging/",{topic_ids:{type:"IntVector",required:!0},source:{type:"String",required:!0},positions:{type:"IntVector",required:!0},query_id:{type:"Int",required:!0},event:{type:"String",required:!0}})}),null);
__d("MSearchTrendingLogger",["MRequest","MSearchConst","Run","Stratcom","XMobileSearchTrendingLoggingController","forEachObject"],(function(a,b,c,d,e,f){__p&&__p();var g=null;a={registerTrendingTopicListeners:function(a,c,d,e){__p&&__p();var f=this;g||(g={},b("Run").onLeave(function(){b("forEachObject")(g,function(a){return a.remove()}),g=null}));var h=[],i=function(i){var k=a[i];if(k==null||g[k])return"continue";g[k]=b("Stratcom").listen("click",k,function(){f._logTrendingTopicClick(k,c,d[i],e)});h.push(g[k])};for(var j=0;j<a.length;j++){var k=i(j);if(k==="continue")continue}return h},logTrendingTopicImpressions:function(a,c,d,e){if(!a||a.length===0)return;for(var f=0;f<a.length;f++)a[f]==null&&(a.splice(f,1),d.splice(f,1),f--);f=b("XMobileSearchTrendingLoggingController").getURIBuilder().setIntVector("topic_ids",a).setString("source",c).setIntVector("positions",d).setInt("query_id",e).setString("event",b("MSearchConst").event_impression).getURI();a=new(b("MRequest"))(f);a.send()},_logTrendingTopicClick:function(a,c,d,e){if(!a)return;return function(){var f=b("XMobileSearchTrendingLoggingController").getURIBuilder().setIntVector("topic_ids",[a]).setString("source",c).setIntVector("positions",[d]).setInt("query_id",e).setString("event",b("MSearchConst").event_click).getURI();f=new(b("MRequest"))(f);f.send()}}};e.exports=a}),null);
__d("SearchTypeaheadPerfLogger",["Banzai","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){this.$8=3,this.$2=b,this.$1=a,this.$4="mtouch_typeahead_log_perf",this.$7=d,this.$3={query:null,latencyData:[],typeaheadType:this.$2,sessionID:null,sessionStartTime:null,click:!1,isBootstrapClick:!1,isExactMatchKeywordClick:!1,isNullStateClick:!1,isSeeMoreClick:!1},this.$10(),this.$11()}var c=a.prototype;c.$10=function(){this.$9=new(b("SubscriptionsHandler"))(),this.$9.addSubscriptions(this.$1.listen("update",this.onQueryUpdated.bind(this)),this.$1.listen("show",this.onResultsRendered.bind(this)),this.$1.listen("result-selected",this.onResultSelected.bind(this)))};c.destroy=function(){this.$9.release()};c.onResultsRendered=function(a){__p&&__p();var b=this.$12(),c=this.$13(b);if(c==null)return;if(!this.$14())return;var d=Array.isArray(a)?this.$15(a):this.$15(a.show);if(this.$16(d))return;a=a.show?d.map(function(a){return{isNullStateSuggestion:b==="",isFromCache:a.isFromCache,isSeeMore:a.isSeeMore,exactMatchKeyword:!1}}):d;var e=a.every(function(a){return a.isNullStateSuggestion||a.isSeeMore||a.exactMatchKeyword})&&a.some(function(a){return a.isNullStateSuggestion}),f=a.every(function(a){return a.exactMatchKeyword||a.isSeeMore});a=a.every(function(a){return a.isFromCache||a.isSeeMore||a.exactMatchKeyword})&&a.some(function(a){return a.isFromCache})&&!f;this.$3.latencyData.push({query:b,allFromNullState:e,allFromCache:a,allFromEcho:f||d.length===0,latency:Date.now()-c});this.$6=d};c.onQueryUpdated=function(a){this.$14()&&(this.$3.query=a,this.$5[a]=Date.now())};c.onResultSelected=function(a){if(a.id)a.bootstrapped?this.$3.isBootstrapClick=!0:a.exactMatchKeyword?this.$3.isExactMatchKeywordClick=!0:a.isSeeMore?this.$3.isSeeMoreClick=!0:a.isNullStateSuggestion&&(this.$3.isNullStateClick=!0);else if(a.rel>0){a=this.$7.get(a);a&&(this.$3.isBootstrapClick=a.bootstrap==1);this.$3.isNullStateClick=this.$12()===""}else this.$3.isSeeMoreClick=!0;this.$3.click=!0};c.$11=function(){this.$5={},this.$6=[],this.$3.query=null,this.$3.latencyData=[],this.$3.sessionID=null,this.$3.sessionStartTime=null,this.$3.click=!1,this.$3.isBootstrapClick=!1,this.$3.isExactMatchKeywordClick=!1,this.$3.isNullStateClick=!1,this.$3.isSeeMoreClick=!1};c.$12=function(){return this.$1.getValue()||""};c.$14=function(){return this.$3.sessionID!=null};c.startSession=function(a,b){this.$11(),this.$3.sessionID=a,this.$3.sessionStartTime=Date.now(),this.$3.query=b,this.$3.typeaheadType=this.$2};c.$13=function(a){if(this.$5[a]!=null)return this.$5[a];else return this.$3.sessionStartTime};c.$16=function(a){var b=this.$6.filter(function(a){return a.id!="seeMore"}).map(function(a){return a.display}),c=a.filter(function(a){return a.id!="seeMore"}).map(function(a){return a.display});return b.length==c.length&&b.every(function(a,b){return a==c[b]})};c.$15=function(a){var b=this.$1;return a.filter(function(a){return!a.isInvalidated&&a!==b.loadingIndicator})};c.endSession=function(){this.$17(),this.$11()};c.$17=function(){var a={query:this.$3.query,latencyData:this.$3.latencyData,typeaheadType:this.$2,sessionID:this.$3.sessionID,sessionStartTime:this.$3.sessionStartTime,click:this.$3.click,isBootstrapClick:this.$3.isBootstrapClick,isExactMatchKeywordClick:this.$3.isExactMatchKeywordClick,isNullStateClick:this.$3.isNullStateClick,isSeeMoreClick:this.$3.isSeeMoreClick};b("Banzai").post(this.$4,a,{delay:this.$8,retry:!0})};return a}();e.exports=a}),null);
__d("MSearchTypeaheadPerfLoggerUtil",["MLegacyDataStore","SearchTypeaheadPerfLogger"],(function(a,b,c,d,e,f){"use strict";a={getNewMSearchTypeaheadPerfLogger:function(a,c,d){return new(b("SearchTypeaheadPerfLogger"))(a,c.type,d,b("MLegacyDataStore"))}};e.exports=a}),null);
__d("MLink",["DOM","ErrorUtils","FBLogger","MLegacyDataStore","MLinkHack","MLynx","MPageCache","MPageController","Stratcom","URI"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i="standalone"in window.navigator&&window.navigator.standalone,j=!1;function a(){__p&&__p();if(j)return;j=!0;b("DOM").listen(document.documentElement,"click",null,function(a){__p&&__p();if(a.getPrevented())return;(g||(g=b("ErrorUtils"))).applyWithGuard(function(){__p&&__p();var c=a.getNode("tag:a");if(c===null||c===void 0)return;var d=a.getRawEvent();if(c.getAttribute("onclick")||(d.which||d.button)>=2)return;b("MLinkHack").remove(c);d=c.getAttribute("href")||null;var e=new(h||(h=b("URI")))(d),f=e.getProtocol();if(f&&f!="http"&&f!="https")return;var g=e.getDomain();g=g&&!/\.facebook.com$/i.test(g);g&&!b("MLynx").isShimmedLink(c)&&b("FBLogger")("FIXME").mustfix("Loading an external URL without shimming: %s",d);var j=c.getAttribute("target")||null;if((j==="_blank"||g)&&i)return;if(c.hasAttribute("data-disable-mlink"))return;if(j==="_blank")window.open(d,"_blank");else if(e.getPath().toLowerCase().indexOf("/dialog/oauth")>-1)return;else if(j||f&&f+":"!==location.protocol||b("Stratcom").hasSigil(c,"no_mpc")||g)window.location=d;else if(d)if(d.indexOf("#")===0){e=document.getElementById(d.substr(1));e&&e.scrollIntoView()}else{j=b("MLegacyDataStore").get(c);j.fromCache&&b("MPageCache").setScrollHistory(d,0);b("MPageController").load(d,{replace:j.behavior==="replace-state",expiration:j.fromCache?j.shortCache?b("MPageController").EXPERIMENTAL_USER_EXPIRE_MS:b("MPageController").HISTORY_EXPIRE_MS:null,noAutoScroll:j.noAutoScroll,prefetchHref:j.prefetchHref,doNotRefocus:j.doNotRefocus})}else{if(c.hasAttribute("data-sigil"))return;f="";g=a.getTarget();while(g&&g!=document.body)f=f+" <"+g.nodeName,typeof g.id==="string"&&g.id!==""&&(f=f+" id="+g.id),typeof g.className==="string"&&g.className!==""&&(f=f+" class="+g.className),f+=" >",g=g.parentNode;b("FBLogger")("FIXME").warn('handleClick: unknown link action: <a id="%s" class="%s" /> Path: %s',c.id,c.className,f);return}a.prevent()},null,[],null,"LinkController")})}f.setupListener=a}),null);
__d("MPopoverClose",["Popover"],(function(a,b,c,d,e,f){a=function(){b("Popover")._activePopover&&b("Popover")._activePopover.close()};f.main=a}),null);
__d("MRecentSearchesUpdater",["Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();var g="search-recent-queries";a=function(){"use strict";__p&&__p();function a(a){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(a.listen("change",this.changeQuery.bind(this)),a.listen("select",this.addRecentSearchWithSelection.bind(this)),a.listen("show",this.changeResults.bind(this)),a.listen("query",this.addRecentSearchWithQuery.bind(this)),a.listen("refreshRecent",this.refreshRecent.bind(this)))}var c=a.prototype;c.destroy=function(){this.$1.release()};c.refreshRecent=function(){b("Stratcom").invoke("refreshRecent",g,{})};c.changeQuery=function(a){this.currentQuery=a};c.changeResults=function(a){a.show?this.results=a.show.slice():this.results=a.slice()};c.addRecentSearchWithQuery=function(){b("Stratcom").invoke("addRecentQuery",g,{query:this.currentQuery})};c.addRecentSearchWithSelection=function(a){a=a&&(a.rel||a.getAttribute("rel"));if(!a){this.addRecentSearchWithQuery();return}for(var c=0;c<this.results.length;c++)this.results[c].id===a&&b("Stratcom").invoke("addRecentSearch",g,{result:this.results[c]})};return a}();e.exports=a}),null);
__d("MSearchTypeaheadLogger",["invariant","DOM","MLegacyDataStore","MRequest","MTouchClick","Stratcom","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;function i(a){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f.getAttribute("rel");if(g!=null){g={id:g};var h=f.getAttribute("type");h!=null&&(g.type=h);h=f.getAttribute("renderType");h!=null&&(g.renderType=h);h=b("DOM").find(f,"a","typeahead-result");f=b("MLegacyDataStore").get(h);h=h.getAttribute("data-extra");if(h!=null)try{h=JSON.parse(h)}catch(a){h={}}g=babelHelpers["extends"]({},g,f,h);c.push(g)}}return c}a=function(){__p&&__p();function a(a,b){this.typeahead=a,this.uri=b,this.initialize(),this.emptyQueryResults=[],this.addSubscriptions()}var c=a.prototype;c.destroy=function(){this.subscriptions.release()};c.addSubscriptions=function(){__p&&__p();var a=this,c=b("MTouchClick").hasTouchEvents()?"touchend":"click";this.subscriptions&&this.subscriptions.release();this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.typeahead.listen("focus",function(){var b=a.typeahead.getValue();b!=null||g(0,6223);a.startSession(b,{force:!0})}),this.typeahead.listen("change",function(b,c){c===void 0&&(c={}),c.preventSessionStart||a.startSession(b),a.sessionInProgress()&&(a.data.query=b)}),this.typeahead.listen("keypress",function(b){a.keypressed+=1}),this.typeahead.listen("select",function(c){var d=c&&(c.rel||c.getAttribute("rel"));a.data.query||(a.data.null_state=1);a.data.click_event=Date.now();d?a.data.selected_id=d:a.data.selected_search=1;a.results&&a.results.length&&a.data.query&&a.data.query.length&&b("Stratcom").invoke("m:search-typeahead:select",null,{node:c,results:a.results.slice(),query:a.data.query.slice()});a.logToServer()}),this.typeahead.listen("show",function(b,c){c===void 0&&(c={});if(!c.preventSessionStart){c=a.typeahead.getValue();c!=null||g(0,6223);a.startSession(c)}a.sessionInProgress()&&(b.show?(a.results=i(b.show),a.typeahead.getValue()||(a.emptyQueryResults=a.results)):(a.data.candidate_results=b.slice().filter(function(a){return!a.isInvalidated}),a.typeahead.getValue()||(a.emptyQueryResults=a.data.candidate_results)))}),this.typeahead.listen("query",function(b,c){a.data.selected_search=1,a.data.selected_type=c,a.logToServer()}),b("Stratcom").listen(c,"search-activator",function(){a.startSession("",{force:!0})}),b("Stratcom").listen(c,"graph-search-activator",function(){a.startSession("",{force:!0})}),b("Stratcom").listen("m:search:typeahead:activated",null,function(){a.startSession("",{force:!0})}),this.typeahead.listen("scroll",function(){a.data.scrolled=1}))};c.updateTypeahead=function(a){this.typeahead=a,this.addSubscriptions()};c.blur=function(a){var c=this;this.blurInProgress=!0;this.blurTimeout=b("setTimeoutAcrossTransitions")(function(){c.data.session_end_reason=a,c.data.query||(c.data.null_state=1),c.logToServer()},h)};c.startSession=function(a,c){c===void 0&&(c={}),this.sessionID==null&&(a||c.force)&&(this.data={},this.keypressed=0,this.sessionID=Math.random().toString(),this.data.query=a,this.data.session_start=Date.now(),b("Stratcom").invoke("m-typeahead-logger:new-session-id",null,{sessionID:this.sessionID,query:a}))};c.sessionInProgress=function(){return this.sessionID!==null&&!this.blurInProgress?!0:!1};c.logToServer=function(){__p&&__p();b("clearTimeout")(this.blurTimeout);if(this.sessionID!=null){this.data.sid=this.sessionID;this.data.count_keys_pressed=this.keypressed;this.data.typeahead_type=this.typeahead.getTypeaheadType&&this.typeahead.getTypeaheadType();this.data.candidate_results=this.data.candidate_results||[];this.data.candidate_results.length===0&&(this.data.candidate_results=this.results);this.data.null_state_candidate_results=this.emptyQueryResults;this.data.last_state=this.getLastState(this.data.query,this.data.candidate_results);var a=new(b("MRequest"))(this.uri);a.setMethod("POST").setData({stats:JSON.stringify(this.data)}).send()}this.initialize()};c.getLastState=function(a,b){var c="typed";a=a.length===0&&b.every(function(a){return a.isNullStateSuggestion});a&&(c="null_state");return c};c.initialize=function(){this.data={},this.sessionID=null,this.keypressed=0,this.results=[],this.blurInProgress=!1};return a}();e.exports=a}),null);
__d("XLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sports/{?query}/",{date:{type:"Int"},ref:{type:"String"},source:{type:"String"},region_id:{type:"Int"},year:{type:"Int"},fref:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"}})}),null);
__d("MTypeaheadNullstateSource",["MTypeaheadTouchSource","Stratcom","URI","XLiveController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g,h="graph-search-entry-point",i="search-recent-queries";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;b("Stratcom").listen("setCurrentProfileID",h,function(a){a=a.getData().profileID;if(a===e.profileID)return;e.profileID=a;e.refresh()});b("Stratcom").listen("addRecentSearch",i,function(a){a=a.getData().result;if(!a)return;e.addRecentResult(a)});b("Stratcom").listen("addRecentQuery",i,function(a){a=a.getData().query;if(!a)return;a=e.makeRecentResultWithQuery(a);e.addRecentResult(a)});b("Stratcom").listen("refreshRecent",i,function(){e.refresh()});b("Stratcom").listen("searchRefreshNullstate",null,function(){return e.refresh()});b("Stratcom").listen("m:search:refresh-nullstate-with-delay",null,function(){b("setTimeoutAcrossTransitions")(function(){e.refresh()},3e4)});return e}var d=c.prototype;d.makeRecentResultWithQuery=function(a){return{display:a,name:a,id:a,uri:"/search/top/?q="+a,type:"keyword"}};d.addRecentResult=function(a){__p&&__p();var b;if(a.isTrending)return;a.idx=0;a.isRecentSearch=!0;b=(b={},b[a.id]=a,b);var c=0;for(var d in this._raw)d!=a.id&&(c++,this._raw[d].idx=c,b[d]=this._raw[d]);this._raw=b};d.refresh=function(){this._raw={},this.sendRequest()};d.getAuxiliaryData=function(){var a;return{disable_single_state:Boolean(this.singleStateDisabled),enable_scoped:Boolean(this.scopedEnabled),profile_id:(a=(a=this.profileID)!=null?a:this.groupID)!=null?a:null}};d.ondata=function(b){a.prototype.ondata.call(this,b)};d.matchResults=function(a){var b=[];a===""&&(b=Object.keys(this._raw));b.sort(j(this._raw));this.invoke("resultsready",this.renderNodes(a,b));this.invoke("complete")};d.setCurrentProfileID=function(a){this.profileID=a};d.setForceDisableSingleState=function(a){this.singleStateDisabled=a};d.setEnableScoped=function(a){this.scopedEnabled=a};d.getTransformer=function(){__p&&__p();return function(a){__p&&__p();if(a.keyword_type==="trending"){var c=new(g||(g=b("URI")))("/topic/trending/"+a.id);a.isSport&&(c=b("XLiveController").getURIBuilder().setString("query",String(a.id)).setString("ref","m_search_null_state").getURI());return{id:a.name,display:a.name,name:a.name,uri:c.toString(),topicID:a.id,trendingQueryID:a.trendingQueryID,subtext:a.articleTitle,type:"trending",photo:a.articleImageURI,actionTime:0,isTrending:!0,isNullStateSuggestion:!0}}if(["grammar","keyword"].includes(a.type)){c=new(g||(g=b("URI")))(a.path||a.uri);return{cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:"keyword",id:a.uid,uri:c.toString(),actionTime:a.action_time,isPYMK:a.pymk,isRecentSearch:a.recent_search,subtext:a.subtext,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search}}return{actionTime:a.action_time,name:a.text,uri:a.path||a.uri,id:a.uid||a.id,display:a.name||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.type[0].toUpperCase()+a.type.slice(1),verticalType:a.vertical_type,is_verified:a.is_verified,subtext:a.subtext,isPYMK:a.pymk,isRecentSearch:a.recent_search,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search,isWorkForeignEntity:a.is_work_foreign_entity}}};return c}(b("MTypeaheadTouchSource"));function j(a){return function(b,c){b=a[b];c=a[c];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;c=isNaN(c.idx)?Number.MAX_VALUE:c.idx;return b-c}}e.exports=a}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:!0},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}})}),null);
__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=c||{};var d=this.$4(b,a,c);if(d)return 0;this.$2.push({fn:b,request:a,options:c});d=this.$2.length-1;this.$1.push(d);return d};c.unsubscribe=function(a){delete this.$2[a]};c.reset=function(){this.$2=[]};c.getRequest=function(a){return this.$2[a]};c.runPossibleCallbacks=function(a){__p&&__p();var b=this,c=this.$1;this.$1=[];var d=[];c.forEach(function(c){var e=b.$2[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$1.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$2[a];if(!d)return;delete b.$2[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","ErrorGuard"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(){this.$1={},this.$2=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){__p&&__p();if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||(g||(g=b("ErrorGuard"))).applyWithGuard(function(){throw new Error("KeyedCallbackManager.executeOrEnqueue: key "+JSON.stringify(a)+" is invalid")},null,[]);return c});return this.$2.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$2.unsubscribe(a)};c.reset=function(){this.$2.reset(),this.$1={}};c.getUnavailableResources=function(a){var b=this;a=this.$2.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$1[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$1[a]},this)};c.addResourcesAndExecute=function(a){Object.assign(this.$1,a),this.$2.runPossibleCallbacks()};c.setResource=function(a,b){this.$1[a]=b,this.$2.runPossibleCallbacks()};c.getResource=function(a){return this.$1[a]};c.getAllResources=function(){return this.$1};c.dumpResources=function(){var a={};for(var b in this.$1){var c=this.$1[b];typeof c==="object"&&(c=babelHelpers["extends"]({},c));a[b]=c}return a};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$1[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();e.exports=a}),null);
__d("getEarlyResources",[],(function(a,b,c,d,e,f){"use strict";function a(){return Array.from(document.querySelectorAll("head script[data-bootloader-hash]"))}e.exports=a}),null);
__d("getInvisibleIframe",["DOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(c,d){__p&&__p();var e=b("DOM").create("iframe",{width:0,height:0,frameborder:0,scrolling:"no","aria-hidden":"true",style:{opacity:0,pointerEvents:"none",position:"absolute"}});c!==void 0&&e.setAttribute("src",c);d&&(e.onload=d);b("DOM").appendContent(document.body,e);function f(b){b.__annotator=function(a){return a},b.__d_stub=[],b.__d=function(){b.__d_stub.push(arguments)}}function g(b){b.onerror=function(a,b,c,d,e){return!0}}f(e.contentWindow);g(e.contentWindow);return e}}),null);
__d("ResourcesRefetcher",["Arbiter","DOM","PageEvents","getEarlyResources","getInvisibleIframe"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=0;a={_iframe:null,refetchScripts:function(a){var c=this,d=this._getIframe();g=a.length;for(var e=0;e<a.length;e++){var f=b("DOM").create("script",{src:a[e].getAttribute("src"),crossorigin:"anonymous"});f.onload=function(){c.checkForFinished()};b("DOM").appendContent(d.contentDocument.head,f)}},_getIframe:function(){this._iframe===null&&(this._iframe=b("getInvisibleIframe")());return this._iframe},refetchOnLoad:function(a){var c=this;b("Arbiter").subscribeOnce(b("PageEvents").BIGPIPE_ONLOAD,function(){var d=b("getEarlyResources")();a.allEF||(d=d.slice(0,1));c.refetchScripts(d)})},checkForFinished:function(){if(++h<g)return;this._iframe&&(b("DOM").remove(this._iframe),this._iframe=null,h=0)}};e.exports=a}),null);
__d("findTag",["ErrorSerializer","TAALOpcodes","$"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c){__p&&__p();var d=b("$")(a);if(!c){if(d instanceof HTMLElement)return d;throw new Error(b("ErrorSerializer").stringify({message:'Element with ID "%s" is not an HTMLElement',params:[a],taalOpcodes:[b("TAALOpcodes").PREVIOUS_FILE]}))}var e=d.tagName.toLowerCase();if(e!==c)throw new Error(b("ErrorSerializer").stringify({message:"Expected $('%s') to be of type '%s' but got '%s' instead.",params:[a,c,e],taalOpcodes:[b("TAALOpcodes").PREVIOUS_FILE]}));return d};e.exports=a}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){return b("intlNumUtils").formatNumber(a,c)}function h(a,c){c=g._({"*":"{number}+"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function i(a,c){c=g._({"*":"\u003C {number}"},[g._param("number",b("intlNumUtils").formatNumberWithThousandDelimiters(a,c),[0,a])]);return c.toString()}function c(a,c,d){return a>c?h(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}function d(a,c,d){return a<c?i(c,d):b("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}a.withThousandDelimiters=b("intlNumUtils").formatNumberWithThousandDelimiters;a.withMaxLimit=c;a.withMinLimit=d;e.exports=a}),null);
__d("onAfterDisplay",["NavigationMetrics","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g=[],h=!1;function a(a){a=b("TimeSlice").guard(a,"onAfterDisplay invocation",{propagationType:b("TimeSlice").PropagationType.ORPHAN});h?b("requestIdleCallback")(a):g.push(a)}b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.EVENT_OCCURRED,function(a,c){["all_pagelets_displayed","e2e"].indexOf(c.event)>-1&&!h&&(h=!0,g.forEach(function(a){b("requestIdleCallback")(a)}))});e.exports=a}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g=/[ ]+/g,h=/[^ ]+/g,i=new RegExp("[^ "+l()+"]+|"+a(),"g"),j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function c(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(g," ")}function s(a,b){b===void 0&&(b=h);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function d(a,b){__p&&__p();b===void 0&&(b=h);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(c),u=d(function(a){return a},i);function f(a,c,d){__p&&__p();var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;c=g(c,a=="prefix");var h=a=="prefix"?b("nullthrows")(c.sortedTokens):c.tokens,i=g(d).tokens,j={},k=c.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:f.bind(null,"exact"),isQueryMatch:f.bind(null,"query"),isQueryMatchIncludingPunctuations:f.bind(null,"query_punc"),isAlignedMatch:f.bind(null,"aligned"),isPrefixMatch:f.bind(null,"prefix"),tokenize:s};e.exports=p}),null);