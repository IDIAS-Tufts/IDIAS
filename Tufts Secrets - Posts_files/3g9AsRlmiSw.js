if (self.CavalryLogger) { CavalryLogger.start_js(["Xh77f"]); }

__d("ChatProxyConnectionState",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.auxiliaryIrisQueues={},this.aiq=null}var b=a.prototype;b.subscribeIrisQueue=function(a,b){this.auxiliaryIrisQueues[a]=b,this.updateCaches()};b.unsubscribeIrisQueue=function(a){delete this.auxiliaryIrisQueues[a],this.updateCaches()};b.updateCaches=function(){var a=[];for(var b in this.auxiliaryIrisQueues)Object.prototype.hasOwnProperty.call(this.auxiliaryIrisQueues,b)&&(a.push(b),a.push(this.auxiliaryIrisQueues[b]));a.length===0?this.aiq=null:this.aiq=a.join(",")};return a}();e.exports=a}),null);
__d("ChannelDefaults",[],(function(a,b,c,d,e,f){e.exports={LONGPOLL_TIMEOUT:6e4,STALL_THRESHOLD:18e4,MIN_RETRY_INTERVAL:5e3,MAX_RETRY_INTERVAL:3e4}}),null);
__d("ChannelEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=new(b("EventEmitter"))();e.exports=a}),null);
__d("ChannelStateMap",[],(function(a,b,c,d,e,f){e.exports={pull:{ok:"pull!",error:"pull",error_missing:"pull",error_msg_type:"pull",clock_anomaly:"pull!",visible:"pull!",hidden:"idle!",refresh_0:"reconnect",refresh_110:"reconnect!",refresh_111:"reconnect",refresh_112:"pull",refresh_113:"pull",refresh_117:"reconnect"},reconnect:{ok:"pull!",error:"reconnect",clock_anomaly:"reconnect!",visible:"pull!",hidden:"idle!"},idle:{ok:"idle!",clock_anomaly:"idle!",visible:"pull!",hidden:"idle!"},shutdown:{clock_anomaly:"shutdown!",visible:"shutdown!",hidden:"shutdown!"}}}),null);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();e.exports=b}),null);
__d("MessengerMQTTPresenceReporting",["BanzaiODS","FBMqttChannel","InstantGamesPresenceProperties","MercuryConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="mqtt_web.presence",h="/foreground_state",i="/set_client_settings",j="/send_endpoint_capabilities",k=16384,l=2097152,m=b("MercuryConfig").idle_limit||18e5;a=b("MercuryConfig").idle_poll_interval||3e5;c=60*1e3;var n=document.hasFocus(),o,p=Date.now(),q=!1;d={init:function(){},reportForegroundState:function(a,c){(n!==a||c)&&(n=a,b("FBMqttChannel").setForegroundState(a),b("FBMqttChannel").publish(h,JSON.stringify({foreground:a})),b("BanzaiODS").bumpEntityKey(2966,g,a?"report.foregrounded":"report.backgrounded"))},reportChatVisibility:function(a){(o===void 0||o!=a)&&(o=a,b("FBMqttChannel").setChatVisibility(a),b("FBMqttChannel").publish(i,JSON.stringify({make_user_available_when_in_foreground:a})),b("BanzaiODS").bumpEntityKey(2966,g,a?"report.chat_visibility.on":"report.chat_visibility.off"))},reportWorkchatDesktopCapability:function(){var a=b("FBMqttChannel").getEndpointCapabilities();a|=k;b("FBMqttChannel").setEndpointCapabilities(a);b("FBMqttChannel").publish(j,JSON.stringify({endpoint_capabilities:a}))},reportInstantGamesPresence:function(a){var c=b("FBMqttChannel").getEndpointCapabilities();a?c|=l:c&=~l;b("FBMqttChannel").setEndpointCapabilities(c);b("FBMqttChannel").publish(j,JSON.stringify({endpoint_capabilities:c}))},onUserActivity:function(){p=Date.now(),e.exports.reportForegroundState(!0,!1)}};window.setInterval(function(){!document.hasFocus()&&Date.now()-p>m&&e.exports.reportForegroundState(!1,!0)},a);window.setInterval(function(){var a=b("InstantGamesPresenceProperties").isActiveGamePresence();q!==a&&(e.exports.reportInstantGamesPresence(a),q=a)},c);e.exports=d}),null);
__d("MessengerMQTTMobilePresenceActivity",["Event","MessengerMQTTPresenceReporting","Run"],(function(a,b,c,d,e,f){__p&&__p();a={init:function(){__p&&__p();var a,c;(a=b("Event")).listen(window,"focus",(c=b("MessengerMQTTPresenceReporting")).onUserActivity);a.listen(window,"mousemove",c.onUserActivity);a.listen(window,"mousedown",c.onUserActivity);a.listen(window,"keypress",c.onUserActivity);a.listen(window,"touchmove",c.onUserActivity);a.listen(window,"blur",function(){b("MessengerMQTTPresenceReporting").reportForegroundState(!1,!1)});b("Run").onUnload(function(){b("MessengerMQTTPresenceReporting").reportForegroundState(!1,!0)})}};e.exports=a}),null);
__d("RTISession",["invariant","ErrorUtils","PHPQuerySerializer","URI","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k=".facebook.com";a=function(){__p&&__p();function a(a,b,c,d,e,f,h,i,j){a||g(0,2469),d||g(0,2470),e||g(0,2471),this.domain=a,this.port=b,this.edgePoolName=c,this.stickyToken=d,this.loggedInId=e,this.accountId=f,this.clientProfile=h||"desktop",this.clientId=i,this.capabilities=j}var c=a.prototype;c.issueRequest=function(a,c,d,e,f){__p&&__p();var l=this;a||g(0,2472);c||g(0,2473);e||g(0,2474);var m=this.domain.length-k.length;m=m>0&&this.domain.indexOf(k,m)!==-1;m=m?this.domain:this.domain+k;var n=(1048576*Math.random()|0).toString(36);n={cb:n,sticky_token:this.stickyToken,uid:this.loggedInId,viewer_uid:this.accountId,sticky_pool:this.edgePoolName,profile:this.clientProfile,clientid:this.clientId,cap:this.capabilities};for(var o in n)c[o]&&g(0,1632);Object.assign(n,c);c=new(h||(h=b("URI")))(a).setDomain(m).setPort(this.port).setSecure(new h(window.location.href).isSecure()).setQueryData(n);a=d?"POST":"GET";var p={};new(b("XHRRequest"))(c).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setTimeout(f?f*1e3:3e4).setMethod(a).setDataSerializer(function(a){return(i||(i=b("PHPQuerySerializer"))).serialize(JSON.stringify(a))}).setData(d).setRequestHeader("Content-Type","application/x-www-form-urlencoded").setResponseHandler(function(a){a=a.substring("for (;;);".length);p.data=JSON.parse(a);p.error=null;(j||(j=b("ErrorUtils"))).applyWithGuard(e,l,[p])}).setErrorHandler(function(a){p.data=null,p.error=a.errorMsg||"error",(j||(j=b("ErrorUtils"))).applyWithGuard(e,l,[p])}).send()};return a}();e.exports=a}),null);
__d("StateMachine",["EventEmitter","ex","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=0,h=function(){"use strict";__p&&__p();function a(a,b){this.idx=g++,this.machine=a,this.asap=b&&b.substr(-1)=="!",this.name=this.asap?b.substr(0,b.length-1):b,this.progress=j.NEW,this.status=null}var b=a.prototype;b.enter=function(){this.machine.enter_private(this)};b.exit=function(a){this.machine.exit_private(this,a)};b.toString=function(){return this.name+"("+this.progress+","+this.status+")"};return a}(),i="_ABORT_",j=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a,b){var d;d=c.call(this)||this;d.$StateMachine1=a;d.$StateMachine2=b;d.$StateMachine3=0;d.$StateMachine4=[];d.$StateMachine5=Date.now();return d}var d=a.prototype;d.$StateMachine6=function(a){this.$StateMachine4.push(Date.now()-this.$StateMachine5+": "+a),this.$StateMachine4.length>40&&(this.$StateMachine4=this.$StateMachine4.splice(-20))};d.getState=function(){return this.$StateMachine7};d.setDelay=function(a){this.$StateMachine3=a||0;return this};d.getDelay=function(){return this.$StateMachine3};d.enter=function(a){this.enter_private(new h(this,a))};d.enter_private=function(c){this.$StateMachine6("enter "+c+", "+this.$StateMachine7),this.$StateMachine7&&this.$StateMachine7!=c&&this.$StateMachine7.exit(i),this.$StateMachine7=c,c.asap?(delete c.asap,this.$StateMachine2.enter&&this.$StateMachine2.enter(c),c.progress=a.ENTERED):(c.progress=a.PENDING,c.asap=!0,c.$StateMachine8=b("setTimeoutAcrossTransitions")(function(){c.enter()},this.$StateMachine3)),this.emit(a.ENTER,c)};d.exit=function(a){this.exit_private(this.$StateMachine7,a)};d.exit_private=function(c,d){__p&&__p();this.$StateMachine6("exit "+c+", "+d+", "+this.$StateMachine7);if(!c||c!=this.$StateMachine7)throw new Error(b("ex")("Invalid state: %s, history: %s",c,this.$StateMachine4.join("|")));if(c.progress==a.EXITED)return;c.status=d;c.progress=a.EXITED;c.$StateMachine8&&(clearInterval(c.$StateMachine8),c.$StateMachine8=null);this.$StateMachine7=null;c&&this.$StateMachine2.exit&&this.$StateMachine2.exit(c);c.exited=!0;this.emit(a.EXIT,c);if(d!=i){var e=this.$StateMachine1[c.name];if(!e||!e[d])throw new Error(b("ex")("No exit for state:%s, status: %s",c.name,d));this.enter(e[d])}};return a}(b("EventEmitter"));j.ENTER="enter";j.EXIT="exit";j.NEW="new";j.PENDING="pending";j.ENTERED="entered";j.EXITED="exited";e.exports=j}),null);
__d("rand32",[],(function(a,b,c,d,e,f){function a(){return Math.floor(Math.random()*4294967295)}e.exports=a}),null);
__d("MChannelManager",["BanzaiODS","ChannelClientConfig","ChannelClientID","ChannelDefaults","ChannelEventEmitter","ChannelEventType","ChannelStateMap","ChatProxyConnectionState","Clock","FBLogger","FBMqttChannel","LogHistory","MobileWebMessageTypesSitevarConfig","MRequest","MURI","RTISession","StateMachine","URI","Visibility","gkx","rand32","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("gkx")("955621"),i=b("gkx")("942685"),j=b("gkx")("1085650"),k,l="ok",m="error",n=6e4,o=null,p=null,q=null,r=null,s=null,t=-1,u=null,v=0,w=b("ChannelClientID").getID(),x=!1,y={enter:function(a){__p&&__p();r&&(r.abort(),r=null);switch(a.name){case"pull":if(!p.uri)break;if(p.disabled)break;var c=new(g||(g=b("URI")))(p.uri),d={channel:p.user_channel,seq:q,clientid:w,profile:"mobile",partition:p.partition,sticky_token:t,msgs_recv:v,qp:"y",cb:b("rand32")(),iris_enabled:!i};t==-1&&p.msgr_region&&(d.msgr_region=p.msgr_region);p.chat_enabled&&(d.state="active");u&&(d.sticky_pool=u);p.uid&&p.viewerUid&&(d.uid=p.uid,d.viewer_uid=p.viewerUid);p.state.aiq&&(d.aiq=p.state.aiq);r=new(b("MRequest"))(c+"").setCORS(!0).setMethod("GET").setData(d).setRaw(!0);r.listen("open",function(a){a.getTransport().withCredentials=!0});r.listen("done",function(b){D(a,b)});r.listen("error",function(){D(a)});break;case"reconnect":c=new(b("MURI"))("/a/channel/reconnect.php");r=new(b("MRequest"))(c+"").setMethod("GET");r.listen("done",function(b){B(a,b)});r.listen("error",function(b){b.isHandled=!0,B(a)});break;default:}r&&r.send()},exit:function(a){if(a.status==="ok")a.name==="pull"&&k.setDelay(0);else if(!(a.status==null)){a=k.getDelay();a=a>0?a*2:o.MIN_RETRY_INTERVAL;a=Math.min(a,o.MAX_RETRY_INTERVAL);k.setDelay(a)}r&&(r.abort(),r=null)}};function z(){b("FBMqttChannel").subscribe("/legacy_web_mtouch",function(a){try{a=JSON.parse(a);F(a)}catch(a){b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","mqttInit.m."+a.message)}}),j&&d(["MessengerMQTTMobilePresenceActivity","MessengerMQTTPresenceReporting"],function(a,b){a.init(),p&&b.reportChatVisibility(p.chat_enabled)})}function A(){var a=null;x&&p&&p.host&&t&&p.uid&&(a=new(b("RTISession"))(p.host,null,u,t,p.uid,p.viewerUid,"mobile",w,0));b("ChannelEventEmitter").emit(b("ChannelEventType").RTI_SESSION,a)}function c(a){s=a}function B(a,c){!c?(b("FBLogger")("FIXME").warn("_onReconnectError: reconnect request error"),a.exit(m)):c.user_channel?(p=c,p.state=new(b("ChatProxyConnectionState"))(),q=p.seq,a.exit(l)):(b("FBLogger")("FIXME").warn("_onReconnectError: bad reconnect response - %s",JSON.stringify(c)),a.exit(m))}function C(){x=!0,A()}function D(a,c){__p&&__p();var d=l;if(!c){a.exit(m);return}switch(c.t){case"refresh":case"refreshDelay":d="refresh_"+(c.reason||0);break;case"fullReload":d=l;c.seq==0&&C();"ms"in c&&G(c);break;case"continue":break;case"lb":var e=c.lb_info;if(e){t=e.sticky;var f="http://";p.is_secure_uri&&(f="https://");"pool"in e?u=e.pool:(p.uri=f+e.vip+".facebook.com/pull",p.host=e.vip)}else b("FBLogger")("FIXME").mustfix("bad lb info from channel proxy");break;case"msg":G(c);break;case"batched":f=c.batches;for(e=0;e<f.length;e++)D(a,f[e]);break;case"heartbeat":break;default:d=m;b("FBLogger")("FIXME").warn("_onRequestSuccess: invalid channel response, sending request again.");break}"seq"in c&&(q=c.seq);a.exit(d)}function E(a){a.visibility!==void 0&&a.visibility!==null&&(p&&p.chat_enabled!==a.visibility&&(p.chat_enabled=a.visibility,j&&d(["MessengerMQTTPresenceReporting"],function(a){a.reportChatVisibility(p.chat_enabled)})))}function F(a){b("MobileWebMessageTypesSitevarConfig").ChatProxySupportedMessageTypes.get(a.type)===!0&&b("MobileWebMessageTypesSitevarConfig").MQTTMigrationExcludeMessageTypes.get(a.type)!==!0?(a.type==="privacy_changed"?E(a.data):k.emit(k.CHANNEL_MESSAGE,a),b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","processMqttMessages.m."+a.type)):b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","processMqttMessages.m.dropped."+a.type)}function G(a){__p&&__p();var c=a.seq-a.ms.length;for(var d=0;d<a.ms.length;d++){b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","messageReceive.m."+a.ms[d].type);var e=c+d;v++;if(e>=q){if(b("MobileWebMessageTypesSitevarConfig").ChatProxySupportedMessageTypes.get(a.ms[d].type)!==!0){b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","processMessages.m.dropped."+a.ms[d].type);continue}s&&(a.ms[d]=s(a.ms[d]));try{a.ms[d].type==="skywalker"?b("ChannelEventEmitter").emit(b("ChannelEventType").SKYWALKER_MESSAGE,a.ms[d]):a.ms[d].type==="qprimer"?C():a.ms[d].type==="privacy_changed"?E(a.ms[d].data):h&&b("MobileWebMessageTypesSitevarConfig").MQTTMigrationExcludeMessageTypes.get(a.ms[d].type)!==!0?b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","processMessages.m.migration.list."+a.ms[d].type):k.emit(k.CHANNEL_MESSAGE,a.ms[d])}catch(a){b("FBLogger")("FIXME").warn("_processMessages: failed to emit message")}}}}function f(){__p&&__p();if(!k.xhrEnabled||o)return;o=Object.assign(b("ChannelDefaults"),b("ChannelClientConfig").config);p=b("ChannelClientConfig").info;p.state=new(b("ChatProxyConnectionState"))();q=p.seq;b("Clock").addListener(b("Clock").ANOMALY,function(){k.exit("clock_anomaly")});b("Visibility").addListener(b("Visibility").HIDDEN,function(){k.exit("hidden")});b("Visibility").addListener(b("Visibility").VISIBLE,function(){k.exit("visible")});a.onbeforeunload=function(){r&&r.abort()};"sticky_token"in p&&(t=p.sticky_token);b("BanzaiODS").bumpEntityKey(2966,"ChannelManager","channelStart");J()}function H(a,b){p.state.subscribeIrisQueue(a,b)}function I(a){p.state.subscribeIrisQueue(a)}function J(){k.setDelay(o.MIN_RETRY_INTERVAL),k.enter(p.uri?"pull!":"reconnect!"),h&&z()}k=new(b("StateMachine"))(b("ChannelStateMap"),y);k.startChannel=f;k.setTransform=c;k.xhrEnabled=!!a.XMLHttpRequest;k.CHANNEL_MESSAGE="channel_message";k.subscribeIrisQueue=H;k.unsubscribeIrisQueue=I;var K;function L(){k.emit(b("StateMachine").ENTER,{name:"stall",progress:b("StateMachine").ENTERED}),J()}function M(a){b("LogHistory").getInstance("channel").log(a.name,a.status||a.progress),a.name!=="stall"&&(clearTimeout(K),K=b("setTimeoutAcrossTransitions")(L,n))}k.addListener(b("StateMachine").ENTER,M);k.addListener(b("StateMachine").EXIT,M);b("ChannelEventEmitter").addListener(b("ChannelEventType").GET_RTI_SESSION_REQUEST,A);e.exports=k}),null);
__d("MPresenceIcon",["DOM","MLegacyDataStore","MRequest","MURI","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=1,h=2,i;function j(){__p&&__p();var a=b("DOM").scry(document.body,"i","presence-icon"),c=[];for(var d=0,e=a.length;d<e;++d){var f=b("MLegacyDataStore").get(a[d]);f.userid&&!c[f.userid]&&(c[f.userid]=1)}f=new(b("MURI"))("/chat/presence_icon.php").toString();d=new(b("MRequest"))(f).setData({ids:Object.keys(c)}).setIgnoreErrors(!0);d.listen("done",function(e){for(var c=0,d=a.length;c<d;++c){var f=b("MLegacyDataStore").get(a[c]);f&&f.userid&&b("Stratcom").hasSigil(a[c],"online-icon")&&e[f.userid]==g||b("Stratcom").hasSigil(a[c],"mobile-icon")&&e[f.userid]==h?b("DOM").show(a[c]):b("DOM").hide(a[c])}});d.listen("finally",function(a){clearTimeout(i),i=b("setTimeoutAcrossTransitions")(j,6e4)});d.send()}j()}),null);
__d("MobileZeroRewriteURL",["BanzaiLogger","MChannelManager"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=null;function a(a){__p&&__p();if(!a)return;g=a.regex_matcher;h=a.regex_replacer;for(var a=0;a<g.length;a++){var c=g[a];c.indexOf("^")===0&&(c=c.substr(1));c=new RegExp(c,"i");g[a]=c}b("MChannelManager").setTransform(i)}function i(a){if(!g)return a;j(a);return a}function j(a){if(!a)return;if(Array.isArray(a))for(var b=0;b<a.length;b++)k(a,b);else for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&k(a,c)}function k(a,c){__p&&__p();var d=a[c],e=typeof d;e==="object"?j(d):e==="string"&&d.indexOf("<img")>=0&&(d=d.replace(/<img[^>]*>/gi,function(a){for(var c=0;c<g.length;c++){var d=g[c],e=h[c],f=a.replace(d,e);if(d.test(a)){b("BanzaiLogger").log("ZeroImgRewriteLoggerConfig",{matcher:d,replacer:e,rewrite_url:f,url:a});return f}}return a}),a[c]=d)}f.main=a}),null);
__d("XFantailLogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/fantail/",{service:{type:"String",required:!0}})}),null);
__d("SimpleFBAuthenticatedXHRRequest",["invariant","CurrentUser","DTSG","DTSGUtils","ServerJSDefine","SprinkleConfig","XHRRequest","isFacebookURI"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){c=a.call(this,c)||this;var e={__dyn:b("ServerJSDefine").getLoadedModuleHash(),__req:(h++).toString(36),__ajax__:1,__a:1,__user:b("CurrentUser").getID()};a.prototype.setData.call(babelHelpers.assertThisInitialized(c),babelHelpers["extends"]({},d,e));return c}var d=c.prototype;d.send=function(){__p&&__p();var c=this;if(!b("isFacebookURI")(this.getURI()))return a.prototype.send.call(this);if(b("DTSG").getCachedToken){var d=b("DTSG").getCachedToken();if(d)return this.sendOnDTSGToken(d);else{b("DTSG").getToken().done(function(a){return c.sendOnDTSGToken(a)});return this}}else this.sendOnDTSGToken(b("DTSG").getToken())};d.sendOnDTSGToken=function(c){if(c){a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),{fb_dtsg:c}));if(b("SprinkleConfig").param_name){var d;a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),(d={},d[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(c),d)))}}return a.prototype.send.call(this)};d.setData=function(a){g(0,5518)};c.parseResponse=function(a){return JSON.parse(a.substr(9))};c.getPayload=function(a){a=c.parseResponse(a).payload;return a.payload?a.payload:a};return c}(b("XHRRequest"));e.exports=a}),null);
__d("FantailLogQueue",["ChannelClientID","CircularBuffer","PHPQuerySerializer","SimpleFBAuthenticatedXHRRequest","XFantailLogController","destroyOnUnload","setIntervalAcrossTransitions","sprintf"],(function(a,b,c,d,e,f){__p&&__p();var g,h={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};a=function(){"use strict";__p&&__p();function a(a){this.$2=a,this.$3=new(b("CircularBuffer"))(200),b("setIntervalAcrossTransitions")(this.$4.bind(this),30*1e3),b("destroyOnUnload")(this.$4.bind(this))}a.get=function(b){a.$1=a.$1||{};a.$1[b]=a.$1[b]||new a(b);return a.$1[b]};var c=a.prototype;c.debug=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.DEBUG,a].concat(c))};c.info=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.INFO,a].concat(c))};c.warn=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.WARN,a].concat(c))};c.error=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.ERROR,a].concat(c))};c.$5=function(a,c){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];var g=b("sprintf").apply(void 0,[c].concat(e));this.$3.write({log_time:Date.now(),log:g,severity:a,device_id:b("ChannelClientID").getID()})};c.$4=function(){var a=this.$3.read();if(a.length>0){var c={log_time:[],log:[],severity:[],device_id:[]};a.forEach(function(a){c.log_time.push(a.log_time),c.log.push(a.log),c.severity.push(a.severity),c.device_id.push(a.device_id)});this.$3.clear();a=b("XFantailLogController").getURIBuilder().setString("service",this.$2).getURI();new(b("SimpleFBAuthenticatedXHRRequest"))(a,c).setMethod("POST").setDataSerializer((g||(g=b("PHPQuerySerializer"))).serialize).setRequestHeader("Content-Type","application/x-www-form-urlencoded").send()}};return a}();e.exports=a}),null);